<div class="page-container game">
  <app-options-pop-up
    *ngIf="gameExercises.length === 0 || gameExercises === undefined"
    [cardExercisesRef]="gameExercises"
    (generateEvent)="randomlyGenerateExercises()"
  ></app-options-pop-up>
  <div class="remaining-cards">
    <p>Remaining Cards: {{ remaining }}</p>
    <button *ngIf="!timerRunning && seconds === 0" (click)="startTimer()">
      START
    </button>
    <button *ngIf="!timerRunning && seconds !== 0" (click)="startTimer()">
      CONTINUE
    </button>
    <button *ngIf="timerRunning" (click)="stopTimer()">STOP</button>
    <button (click)="endGame()">FINISH WORKOUT</button>
    <div class="timer">
      <div class="timer">
        <p *ngIf="10 > hour">0</p>
        <p>{{ hour }} :&nbsp;</p>
      </div>
      <div class="timer">
        <p *ngIf="10 > minutes">0</p>
        <p>{{ minutes }} :&nbsp;</p>
      </div>
      <div class="timer">
        <p *ngIf="10 > seconds">0</p>
        <p>{{ seconds }}</p>
      </div>
    </div>
    <button (click)="resetGame()">Reset Game</button>
    <div class="card-container">
      <div class="test" (click)="drawCard()"></div>

      <div class="test">
        <p *ngIf="checkGameStatus() === 2">Get Started!</p>
        <img
          class="image"
          *ngIf="checkGameStatus() === 1"
          src="{{ currentlyDrawn?.image }}"
          alt="Card Image"
        />
        <p *ngIf="checkGameStatus() === 0">Play Again!</p>
      </div>
    </div>

    <app-exercise
      *ngIf="checkGameStatus() === 1"
      [exerciseRef]="currentExercise"
      [cardExercisesRef]="gameExercises"
      [gameModeRef]="gameMode"
    ></app-exercise>

    <app-game-exercises [cardExercisesRef]="gameExercises"></app-game-exercises>
    <app-game-stats
      *ngIf="gameOver"
      [statsRef]="stats"
      (closeEvent)="toggleGameOver()"
    ></app-game-stats>
  </div>
</div>
